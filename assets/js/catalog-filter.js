(self.webpackChunkojjo=self.webpackChunkojjo||[]).push([[213],{194:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var c=n(624),o="js-field-container",r="js-field-swap-block",a="js-field-show-btn",l="js-field-btn-submit",i="collapsed",u="--left-shift",s=!1;function d(e){var t=document.querySelectorAll(".".concat(o)),n=document.querySelector(".js-catalog-current-page"),d=document.querySelector(".js-catalog-more-btn");e.addEventListener("submit",(function(e){e.preventDefault(),s=!0,v(new FormData(e.target)).finally((function(){s=!1}))})),e.addEventListener("keydown",(function(e){if("Enter"===e.code){var t=document.querySelector(".".concat(r,":not(.").concat(i,")"));t&&!s&&(e.preventDefault(),t.querySelector(".".concat(l)).click())}})),t.forEach((function(t){t.addEventListener("click",(function(o){var d=t.querySelector(".".concat(r)),p=t.querySelector(".".concat(a)),g=t.querySelector(".".concat("js-field-btn-reset")),b=t.querySelector(".".concat(l));if(p.contains(o.target)&&!s){o.preventDefault();var h=o.target,S=document.querySelector(".".concat(r,":not(.").concat(i,")"));if(S){var E=S.parentElement;E.contains(h)||f(E.querySelector(".".concat(a)),S)}d.classList.contains(i)?function(e,t){t.classList.remove(i);var n=document.documentElement.scrollWidth-document.documentElement.clientWidth;n>1&&(t.style.left="-".concat(n,"px"),t.style.setProperty("".concat(u),parseInt(getComputedStyle(t).getPropertyValue("".concat(u)),10)+n+"px")),e.setAttribute("aria-expanded",!0),document.addEventListener("click",m),document.addEventListener("keydown",y)}(h,d):f(h,d)}if(g.contains(o.target)&&(o.preventDefault(),s||d.querySelectorAll("input").forEach((function(e){["radio","checkbox"].includes(e.type)?e.checked=!1:["text","email","number","range","search"].includes(e.type)&&(e.value="")}))),b.contains(o.target)&&!s){o.preventDefault();var q=o.target;s=!0,n&&(n.value=0);var k=new FormData(e);t.setAttribute("disabled","disabled"),(0,c.r)(q,{isPending:!0}),v(k).finally((function(){(0,c.r)(q,{isPending:!1}),f(p,d),t.removeAttribute("disabled"),s=!1}))}}))})),d&&n&&d.addEventListener("click",(function(t){t.preventDefault(),s||(n.value=parseInt(n.value,10)+1,(0,c.r)(d,{isPending:!0}),s=!0,v(new FormData(e)).finally((function(){(0,c.r)(d,{isPending:!1}),s=!1})))}))}function f(e,t){t.classList.add(i),t.style.left="",t.style.setProperty("".concat(u),""),e.setAttribute("aria-expanded",!1),document.removeEventListener("click",m),document.removeEventListener("keydown",y)}function m(e){if(!e.target.closest(".".concat(o))&&!s){var t=document.querySelector(".".concat(r,":not(.").concat(i,")"));f(t.parentElement.querySelector(".".concat(a)),t)}}function y(e){if("Escape"===e.code){var t=document.querySelector(".".concat(r,":not(.").concat(i,")"));t&&!s&&f(t.parentElement.querySelector(".".concat(a)),t)}}function v(e){return fetch("https://httpbin.org/delay/3",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return console.log(e.form)})).catch((function(e){return console.log(e.message)}))}}}]);